"use strict";(self.webpackChunkProject_Management=self.webpackChunkProject_Management||[]).push([[366],{7940:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var n=a(4942),i=a(1413),r=a(885),o=a(3915),l=a(8870),s=a(1918),d=a(890),u=a(1889),c=a(9188),v=a(4925),m=a(9321),p=a(8029),f=a(7865),Z=a(3767),h=a(6151),x=a(2791),g=a(8550),j=a(9761),b=a(9783),P=a(2570),w=a.n(P),S=a(4569),C=a.n(S),D=a(2426),M=a.n(D),R=a(3967),q=a(184),k={PaperProps:{style:{maxHeight:224,width:250}}};function y(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function A(e){var t=x.useState(e.editProjectPageInfo),a=(0,r.Z)(t,1)[0],P=x.useState(e.userInfo),S=(0,r.Z)(P,1)[0],A=x.useState(e.isEditProject),I=(0,r.Z)(A,1)[0],T=x.useState(!0),E=(0,r.Z)(T,2),N=E[0],F=E[1],O=x.useState(e.dataToggler),W=(0,r.Z)(O,1)[0],U=(0,R.Z)(),z=x.useState([]),L=(0,r.Z)(z,2),B=L[0],H=L[1];x.useEffect((function(){S&&"admin"!==S.role&&e.handleClose()}),[S]);var V=x.useState({title:"",startDate:null,endDate:null,members:[]}),G=(0,r.Z)(V,2),J=G[0],K=G[1],Q=x.useState({title:!1,dateRange:!1,isAttempted:!1}),X=(0,r.Z)(Q,2),Y=X[0],$=X[1];x.useEffect((function(){I&&C().get("/project/getProject/"+a).then((function(e){K(e.data),F(!e.data.startDate),$({title:!0,dateRange:!0,isAttempted:!1})}))}),[I,e.editTaskPageInfo]),x.useEffect((function(){C().get("/user/getUsersList/allUser").then((function(e){H(e.data)}))}),[]);var ee=function(e){K((0,i.Z)((0,i.Z)({},J),{},(0,n.Z)({},e.target.name,e.target.value))),te(e)},te=function(e,t){if(t)(0,D.isMoment)(t[0])&&(0,D.isMoment)(t[1])&&t[0].isSameOrBefore(t[1],"date")&&N&&t[0].isSameOrAfter(new Date,"date")?$((0,i.Z)((0,i.Z)({},Y),{},{dateRange:!0})):$((0,i.Z)((0,i.Z)({},Y),{},{dateRange:!1}));else if("title"===e.target.name)$((0,i.Z)((0,i.Z)({},Y),{},{title:w().isLength(e.target.value,{min:3})}))};return(0,q.jsxs)(l.Z,{component:"form",autoComplete:"off",onSubmit:I?function(t){t.preventDefault(),Y.title&&Y.dateRange?C().put("/project/updateProject",J).then((function(t){e.handleClose()})):$((0,i.Z)((0,i.Z)({},Y),{},{isAttempted:!0}))}:function(t){t.preventDefault(),Y.title&&Y.dateRange?C().post("/project/createProject",J).then((function(t){W.setDataToggler(!W.dataToggler),e.handleClose()})):$((0,i.Z)((0,i.Z)({},Y),{},{isAttempted:!0}))},sx:_,children:[(0,q.jsxs)(d.Z,{sx:{mb:1},id:"modal-modal-title",variant:"h6",component:"h2",children:[I?"Edit":"Add"," Project"]}),(0,q.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,q.jsx)(u.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{sx:{width:"100%",mb:1},id:"filled-textarea",value:J.title,name:"title",label:"Project Name",placeholder:"Placeholder",variant:"standard",size:"small",required:!0,error:!Y.title&&Y.isAttempted,helperText:"Must have min 3 character.",onChange:ee})}),(0,q.jsx)(o.Z,{dateAdapter:b.Z,children:(0,q.jsx)(j.Z,{disablePast:N,value:[J.startDate,J.endDate],onChange:function(e){M()(e[0]).isSame(J.startDate,"date")||F(!0),e[1]?K((0,i.Z)((0,i.Z)({},J),{},{startDate:e[0]._d,endDate:e[1]._d})):K((0,i.Z)((0,i.Z)({},J),{},{startDate:e[0]._d})),te("",e)},renderInput:function(e,t){return(0,q.jsxs)(x.Fragment,{children:[(0,q.jsx)(g.Z,(0,i.Z)({sx:{ml:2},required:!0,variant:"standard"},e)),(0,q.jsx)(l.Z,{sx:{mx:2},children:" to "}),(0,q.jsx)(g.Z,(0,i.Z)({variant:"standard",required:!0},t))]})}})}),(0,q.jsx)(u.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{sx:{width:"100%"},name:"description",value:J.description?J.description:"",id:"filled-textarea",label:"Description",placeholder:"Description",multiline:!0,variant:"filled",rows:4,onChange:ee})}),(0,q.jsx)(u.ZP,{item:!0,xs:12,children:(0,q.jsxs)(c.Z,{className:"selectMembers",sx:{mt:1,width:"100%"},children:[(0,q.jsx)(v.Z,{id:"multiple-member-label",children:"Chip"}),(0,q.jsx)(m.Z,{labelId:"multiple-member-label",id:"multiple-member",multiple:!0,value:J.members,onChange:function(e){var t=e.target.value;K((0,i.Z)((0,i.Z)({},J),{},{members:"string"===typeof t?t.split(","):t}))},input:(0,q.jsx)(p.Z,{id:"select-multiple-member",label:"Chip"}),renderValue:function(e){return function(e){return(0,q.jsx)(l.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:B.map((function(t){return-1!==e.indexOf(t._id)?(0,q.jsx)(s.Z,{label:t.username},t._id):""}))})}(e)},MenuProps:k,children:B.map((function(e){return(0,q.jsx)(f.Z,{value:e._id,style:y(e._id,J.members,U),children:(0,q.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,q.jsx)(u.ZP,{item:!0,xs:8,children:e.username}),(0,q.jsx)(u.ZP,{item:!0,sx:{textAlign:"right"},xs:4,children:(0,q.jsx)(s.Z,{sx:{textTransform:"uppercase"},label:e.role,size:"small"})})]})},e._id)}))})]})}),(0,q.jsx)(u.ZP,{item:!0,xs:12,children:(0,q.jsxs)(Z.Z,{direction:"row",spacing:2,children:[(0,q.jsx)(h.Z,{type:"submit",variant:"contained",children:I?"Update":"Add"}),(0,q.jsx)(h.Z,{variant:"outlined",onClick:e.handleClose,children:"Cancel"})]})})]})]})}var _={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",borderRadius:"10px",boxShadow:"3px 3px 10px #434242bd",p:4}},703:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(3366),i=a(7462),r=a(2791),o=a(8182),l=a(767),s=a(2065),d=a(7630),u=a(3736),c=a(5159);function v(e){return(0,c.Z)("MuiPaper",e)}(0,a(208).Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var m=a(184),p=["className","component","elevation","square","variant"],f=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},Z=(0,d.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],!a.square&&t.rounded,"elevation"===a.variant&&t["elevation".concat(a.elevation)]]}})((function(e){var t=e.theme,a=e.ownerState;return(0,i.Z)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!a.square&&{borderRadius:t.shape.borderRadius},"outlined"===a.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===a.variant&&(0,i.Z)({boxShadow:t.shadows[a.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,s.Fq)("#fff",f(a.elevation)),", ").concat((0,s.Fq)("#fff",f(a.elevation)),")")}))})),h=r.forwardRef((function(e,t){var a=(0,u.Z)({props:e,name:"MuiPaper"}),r=a.className,s=a.component,d=void 0===s?"div":s,c=a.elevation,f=void 0===c?1:c,h=a.square,x=void 0!==h&&h,g=a.variant,j=void 0===g?"elevation":g,b=(0,n.Z)(a,p),P=(0,i.Z)({},a,{component:d,elevation:f,square:x,variant:j}),w=function(e){var t=e.square,a=e.elevation,n=e.variant,i=e.classes,r={root:["root",n,!t&&"rounded","elevation"===n&&"elevation".concat(a)]};return(0,l.Z)(r,v,i)}(P);return(0,m.jsx)(Z,(0,i.Z)({as:d,ownerState:P,className:(0,o.Z)(w.root,r),ref:t},b))}))}}]);
//# sourceMappingURL=366.97e02b5d.chunk.js.map