"use strict";(self.webpackChunkProject_Management=self.webpackChunkProject_Management||[]).push([[890,756],{8756:function(e,s,t){t.r(s),t.d(s,{default:function(){return w}});var n=t(1413),a=t(885),i=t(1918),l=t(3400),r=t(5021),c=t(6575),o=t(7064),d=t(9900),x=t(6809),h=t(4058),m=t(1286),u=t(346),j=t(1889),k=t(9955),Z=t(890),p=t(792),f=t(8870),P=t(2426),g=t.n(P),T=t(2791),N=t(4569),v=t.n(N),C=(t(5314),t(184)),D=T.lazy((function(){return Promise.all([t.e(534),t.e(965),t.e(266),t.e(950),t.e(443),t.e(805),t.e(817)]).then(t.bind(t,1817))}));function w(e){var s=T.useState(e.userInfo?e.userInfo:null),t=(0,a.Z)(s,1)[0],P=T.useState("allTask"),N=(0,a.Z)(P,2),w=N[0],S=N[1],b=T.useState(!0),y=(0,a.Z)(b,2),L=y[0],M=y[1],Y=T.useState(!1),A=(0,a.Z)(Y,2),_=A[0],E=A[1],z=T.useState([]),B=(0,a.Z)(z,2),I=B[0],W=B[1],R=T.useState(!1),F=(0,a.Z)(R,2),H=F[0],O=F[1],q=T.useState(e.project?e.project:null),G=(0,a.Z)(q,1)[0],J=T.useState(!1),K=(0,a.Z)(J,2),Q=K[0],U=K[1],V=T.useState(""),X=(0,a.Z)(V,2),$=X[0],ee=X[1],se=function(){return O(!1)},te=function(e,s){ee(s||""),U(e),O(!0)},ne=function(e){S(e)};T.useEffect((function(){e.setDataToHome(te)}),[]),T.useEffect((function(){var e="";"allTask"===w?(e=G?"/task/getAllTask/"+G.id:"/task/getAllTask/null",v().get(e).then((function(e){W(e.data)}))):w&&(e=G?"/task/getTaskListByCategory/"+w+"/"+G.id:"/task/getTaskListByCategory/"+w+"/null",v().get(e).then((function(e){W(e.data)})))}),[w,L]);return(0,C.jsxs)(j.ZP,{className:"todoList",item:!0,xs:12,children:[(0,C.jsxs)(j.ZP,{className:"taskCategory",item:!0,container:!0,xs:12,children:[(0,C.jsx)(j.ZP,{className:"allTask"===w||"isPersonal"===w?"activeTaskList":"",onClick:function(){return ne(_?"isPersonal":"allTask")},item:!0,xs:2,children:G?(0,C.jsx)("h2",{children:"All task"}):(0,C.jsxs)("h2",{children:[_?"Personal":"All task"," ",(0,C.jsx)(k.Z,{checked:!_,onClick:function(e){e.preventDefault(),e.stopPropagation(),_?_&&S("allTask"):S("isPersonal"),E(!_)},size:"small"})]})}),(0,C.jsx)(j.ZP,{className:"todo"===w?"activeTaskList":"",onClick:function(){return ne("todo")},item:!0,xs:2,children:(0,C.jsx)("h2",{children:"ToDo"})}),(0,C.jsx)(j.ZP,{className:"inprogress"===w?"activeTaskList":"",onClick:function(){return ne("inprogress")},item:!0,xs:2,children:(0,C.jsx)("h2",{children:"In Progress"})}),(0,C.jsx)(j.ZP,{className:"review"===w?"activeTaskList":"",onClick:function(){return ne("review")},item:!0,xs:2,children:(0,C.jsx)("h2",{children:"Review"})}),(0,C.jsx)(j.ZP,{className:"completed"===w?"activeTaskList":"",onClick:function(){return ne("completed")},item:!0,xs:2,children:(0,C.jsx)("h2",{children:"Completed"})}),(0,C.jsx)(j.ZP,{className:"pending"===w?"activeTaskList":"",onClick:function(){return ne("pending")},item:!0,xs:2,children:(0,C.jsx)("h2",{children:"Pending"})})]}),(0,C.jsxs)(j.ZP,{className:"header-row",container:!0,spacing:2,children:[(0,C.jsx)(j.ZP,{className:"list-header",item:!0,xs:2,children:"Task Name"}),(0,C.jsx)(j.ZP,{className:"list-header",item:!0,xs:3,children:"Project/Personal"}),(0,C.jsx)(j.ZP,{className:"list-header",item:!0,xs:2,children:"Start Date"}),(0,C.jsx)(j.ZP,{className:"list-header",item:!0,xs:2,children:"End Date"}),(0,C.jsx)(j.ZP,{className:"list-header task-status-header",item:!0,xs:3,children:"Status"})]}),(0,C.jsx)(j.ZP,{className:"taskList",item:!0,xs:12,children:I.length?I.map((function(e){return(0,C.jsx)(r.ZP,{secondaryAction:(0,C.jsxs)("div",{children:[(0,C.jsx)(x.Z,{title:"Next Transission",placement:"top",children:(0,C.jsx)("span",{children:(0,C.jsx)(l.Z,{sx:{mr:"-5px"},edge:"end",onClick:function(){return s=e._id,void(window.confirm("Do you realy want to change transission of this task?")&&v().put("/task/nextTransission/"+s).then((function(){M(!L)})));var s},disabled:"completed"===e.transission,label:"changeTransission","aria-label":"Transission",children:(0,C.jsx)(h.Z,{})})})}),(0,C.jsx)(x.Z,{title:"Delete Task",placement:"top",children:(0,C.jsx)("span",{children:(0,C.jsx)(l.Z,{sx:{mr:1},edge:"end",onClick:function(){return s=e._id,void(window.confirm("Do you realy want to delete this task?")&&v().delete("/task/deleteTask/"+s).then((function(){M(!L)})));var s},disabled:!(e.isPersonal||t&&("admin"===t.role||"manager"===t.role)),label:"changeTransission","aria-label":"Transission",children:(0,C.jsx)(u.Z,{})})})})]}),children:(0,C.jsx)(x.Z,{title:"Edit Task",placement:"top",children:(0,C.jsxs)(c.Z,{className:"itemButton",onClick:function(){return te(!0,e._id)},sx:{pl:1,mr:"0"},children:[(0,C.jsx)(o.Z,{sx:{minWidth:"40px"},children:(0,C.jsx)(m.Z,{})}),(0,C.jsx)(d.Z,{children:(0,C.jsxs)(j.ZP,{container:!0,spacing:1,children:[(0,C.jsx)(j.ZP,{item:!0,xs:2,children:(0,C.jsx)(Z.Z,{sx:{mt:"5px"},variant:"inherit",noWrap:!0,children:e.title})}),(0,C.jsx)(j.ZP,{sx:{textAlign:"center"},item:!0,xs:3,children:e.project?(0,C.jsx)(Z.Z,{sx:{mt:"5px"},variant:"inherit",noWrap:!0,children:e.project.title}):(0,C.jsx)(Z.Z,{sx:{mt:"5px"},variant:"inherit",children:(0,C.jsx)("b",{children:"Own task"})})}),(0,C.jsx)(j.ZP,{className:"taskDate",sx:{mt:"5px"},item:!0,xs:2,children:g()(e.startDate).format("MMM-DD-YYYY")}),(0,C.jsx)(j.ZP,{className:"taskDate",sx:{mt:"5px"},item:!0,xs:2,children:g()(e.endDate).format("MMM-DD-YYYY")}),(0,C.jsxs)(j.ZP,{sx:{textAlign:"right"},item:!0,xs:3,children:[g()(e.endDate).isBefore(g()(),"date")?(0,C.jsx)(d.Z,{className:"taskState",children:(0,C.jsx)(i.Z,{sx:{textTransform:"uppercase"},className:"pending",label:"Pending",size:"small"})}):"",(0,C.jsx)(d.Z,{className:"taskState",children:(0,C.jsx)(i.Z,{sx:{textTransform:"uppercase"},className:e.transission,label:e.transission,size:"small"})})]})]})})]})})},e._id)})):(0,C.jsx)(j.ZP,{className:"noFound",item:!0,xs:12,children:"There is no task for now, please create new task."})}),(0,C.jsx)(p.Z,{open:H,onClose:se,children:(0,C.jsx)(f.Z,{children:(0,C.jsx)(D,(0,n.Z)({isEditTask:Q,editTaskPageInfo:$,reRenderTask:S,handleClose:se,project:G},e))})})]})}},5314:function(){}}]);
//# sourceMappingURL=890.58696e42.chunk.js.map