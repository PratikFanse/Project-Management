"use strict";(self.webpackChunkProject_Management=self.webpackChunkProject_Management||[]).push([[940],{7940:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var r=n(4942),a=n(1413),i=n(885),s=n(3915),l=n(8870),o=n(1918),d=n(890),c=n(1889),u=n(9188),p=n(4925),m=n(9321),f=n(8029),h=n(7865),Z=n(3767),x=n(6151),g=n(2791),j=n(8550),b=n(9761),P=n(9783),v=n(2570),O=n.n(v),y=n(4569),w=n.n(y),D=n(2426),C=n.n(D),S=n(3967),A=n(184),_={PaperProps:{style:{maxHeight:224,width:250}}};function M(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}function R(e){var t=g.useState(e.editProjectPageInfo),n=(0,i.Z)(t,1)[0],v=g.useState(e.userInfo),y=(0,i.Z)(v,1)[0],R=g.useState(e.isEditProject),E=(0,i.Z)(R,1)[0],T=g.useState(!0),I=(0,i.Z)(T,2),N=I[0],W=I[1],q=g.useState(e.dataToggler),U=(0,i.Z)(q,1)[0],z=(0,S.Z)(),B=g.useState([]),L=(0,i.Z)(B,2),F=L[0],H=L[1];g.useEffect((function(){y&&"admin"!==y.role&&e.handleClose()}),[y]);var V=g.useState({title:"",startDate:null,endDate:null,members:[]}),G=(0,i.Z)(V,2),J=G[0],K=G[1],Q=g.useState({title:!1,dateRange:!1,isAttempted:!1}),X=(0,i.Z)(Q,2),Y=X[0],$=X[1];g.useEffect((function(){E&&w().get("/project/getProject/"+n).then((function(e){K(e.data),W(!e.data.startDate),$({title:!0,dateRange:!0,isAttempted:!1})}))}),[E,e.editTaskPageInfo]),g.useEffect((function(){w().get("/user/getUsersList/allUser").then((function(e){H(e.data)}))}),[]);var ee=function(e){K((0,a.Z)((0,a.Z)({},J),{},(0,r.Z)({},e.target.name,e.target.value))),te(e)},te=function(e,t){if(t)(0,D.isMoment)(t[0])&&(0,D.isMoment)(t[1])&&t[0].isSameOrBefore(t[1],"date")&&N&&t[0].isSameOrAfter(new Date,"date")?$((0,a.Z)((0,a.Z)({},Y),{},{dateRange:!0})):$((0,a.Z)((0,a.Z)({},Y),{},{dateRange:!1}));else if("title"===e.target.name)$((0,a.Z)((0,a.Z)({},Y),{},{title:O().isLength(e.target.value,{min:3})}))};return(0,A.jsxs)(l.Z,{component:"form",autoComplete:"off",onSubmit:E?function(t){t.preventDefault(),Y.title&&Y.dateRange?w().put("/project/updateProject",J).then((function(t){e.handleClose()})):$((0,a.Z)((0,a.Z)({},Y),{},{isAttempted:!0}))}:function(t){t.preventDefault(),Y.title&&Y.dateRange?w().post("/project/createProject",J).then((function(t){U.setDataToggler(!U.dataToggler),e.handleClose()})):$((0,a.Z)((0,a.Z)({},Y),{},{isAttempted:!0}))},sx:k,children:[(0,A.jsxs)(d.Z,{sx:{mb:1},id:"modal-modal-title",variant:"h6",component:"h2",children:[E?"Edit":"Add"," Project"]}),(0,A.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(j.Z,{sx:{width:"100%",mb:1},id:"filled-textarea",value:J.title,name:"title",label:"Project Name",placeholder:"Placeholder",variant:"standard",size:"small",required:!0,error:!Y.title&&Y.isAttempted,helperText:"Must have min 3 character.",onChange:ee})}),(0,A.jsx)(s.Z,{dateAdapter:P.Z,children:(0,A.jsx)(b.Z,{disablePast:N,value:[J.startDate,J.endDate],onChange:function(e){C()(e[0]).isSame(J.startDate,"date")||W(!0),e[1]?K((0,a.Z)((0,a.Z)({},J),{},{startDate:e[0]._d,endDate:e[1]._d})):K((0,a.Z)((0,a.Z)({},J),{},{startDate:e[0]._d})),te("",e)},renderInput:function(e,t){return(0,A.jsxs)(g.Fragment,{children:[(0,A.jsx)(j.Z,(0,a.Z)({sx:{ml:2},required:!0,variant:"standard"},e)),(0,A.jsx)(l.Z,{sx:{mx:2},children:" to "}),(0,A.jsx)(j.Z,(0,a.Z)({variant:"standard",required:!0},t))]})}})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(j.Z,{sx:{width:"100%"},name:"description",value:J.description?J.description:"",id:"filled-textarea",label:"Description",placeholder:"Description",multiline:!0,variant:"filled",rows:4,onChange:ee})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsxs)(u.Z,{className:"selectMembers",sx:{mt:1,width:"100%"},children:[(0,A.jsx)(p.Z,{id:"multiple-member-label",children:"Chip"}),(0,A.jsx)(m.Z,{labelId:"multiple-member-label",id:"multiple-member",multiple:!0,value:J.members,onChange:function(e){var t=e.target.value;K((0,a.Z)((0,a.Z)({},J),{},{members:"string"===typeof t?t.split(","):t}))},input:(0,A.jsx)(f.Z,{id:"select-multiple-member",label:"Chip"}),renderValue:function(e){return function(e){return(0,A.jsx)(l.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:F.map((function(t){return-1!==e.indexOf(t._id)?(0,A.jsx)(o.Z,{label:t.username},t._id):""}))})}(e)},MenuProps:_,children:F.map((function(e){return(0,A.jsx)(h.Z,{value:e._id,style:M(e._id,J.members,z),children:(0,A.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,A.jsx)(c.ZP,{item:!0,xs:8,children:e.username}),(0,A.jsx)(c.ZP,{item:!0,sx:{textAlign:"right"},xs:4,children:(0,A.jsx)(o.Z,{sx:{textTransform:"uppercase"},label:e.role,size:"small"})})]})},e._id)}))})]})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsxs)(Z.Z,{direction:"row",spacing:2,children:[(0,A.jsx)(x.Z,{type:"submit",variant:"contained",children:E?"Update":"Add"}),(0,A.jsx)(x.Z,{variant:"outlined",onClick:e.handleClose,children:"Cancel"})]})})]})]})}var k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",borderRadius:"10px",boxShadow:"3px 3px 10px #434242bd",p:4}},8870:function(e,t,n){var r=n(3814),a=n(7125),i=(0,n(6396).Z)(),s=(0,r.Z)({defaultTheme:i,defaultClassName:"MuiBox-root",generateClassName:a.Z.generate});t.Z=s},1413:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=940.6390a188.chunk.js.map