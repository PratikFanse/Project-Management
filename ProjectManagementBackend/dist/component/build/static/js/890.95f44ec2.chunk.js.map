{"version":3,"file":"static/js/890.95f44ec2.chunk.js","mappings":"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","sources":["Component/MainApp/Common/Tasks/Tasks.js"],"sourcesContent":["import Chip from \"@mui/material/Chip\";\nimport IconButton from \"@mui/material/IconButton\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport PublishedWithChangesIcon from '@mui/icons-material/PublishedWithChanges'\nimport EditIcon from '@mui/icons-material/Edit'\nimport DeleteOutlineRoundedIcon from '@mui/icons-material/DeleteOutlineRounded';\nimport { Box, Grid, Modal, Switch, Typography } from \"@mui/material\";\nimport moment from \"moment\";\nimport * as React from \"react\";\nimport axios from \"axios\";\nimport './Tasks.css'\nconst AddOrEditTask = React.lazy(() => import(\"../AddOrEditTask/AddOrEditTask\"));\n\nexport default function Tasks(props){\n  const [userInfo] = React.useState(props.userInfo?props.userInfo:null)\n  const [taskCategory, setTaskCategory] = React.useState('allTask')\n  const [dataToggler,setDataToggler] = React.useState(true);\n  const [isPersonal, setIsPersonal] = React.useState(false);\n  const [taskList, setTaskList] = React.useState([]);\n  const [openTaskModal, setOpenTaskModal] = React.useState(false);\n  const [project] = React.useState(props.project?props.project:null);\n    const [isEditTaskPage,setIsEditTaskPage] = React.useState(false)\n    const [editTaskPageInfo,setEditTaskPageInfo] = React.useState('')\n    const handleClose = () => setOpenTaskModal(false); \n    const handleOpen = (isEdit,editTaskId) => {\n      setEditTaskPageInfo(editTaskId?editTaskId:'');\n      setIsEditTaskPage(isEdit)\n      setOpenTaskModal(true);\n    }\n    const fetchTaskList =(taskListType)=>{\n      setTaskCategory(taskListType)\n    }\n    const togglePersonalTask = (ev) =>{\n      ev.preventDefault();\n      ev.stopPropagation();\n      if(!isPersonal)\n        setTaskCategory('isPersonal')\n      else if(isPersonal) \n        setTaskCategory('allTask')\n      setIsPersonal(!isPersonal)\n    }\n    React.useEffect(()=>{\n      props.setDataToHome(handleOpen)\n    },[])\n    React.useEffect(()=>{\n      let url=\"\";\n      if(taskCategory==='allTask'){\n        if(project) url = '/task/getAllTask/'+ project.id\n        else url = '/task/getAllTask/null';\n        axios.get(url).then((response)=>{\n          setTaskList(response.data)\n        })\n      } else if(taskCategory){\n        if(project) url = '/task/getTaskListByCategory/'+taskCategory+'/'+ project.id\n        else url = '/task/getTaskListByCategory/'+taskCategory+'/null';\n        axios.get(url).then((response)=>{\n          setTaskList(response.data)\n        })\n      }\n    },[taskCategory,dataToggler])\n    const nextTransission=(taskId)=>{\n      if(window.confirm('Do you realy want to change transission of this task?'))\n      axios.put('/task/nextTransission/'+taskId).then(()=>{\n        setDataToggler(!dataToggler)\n      })\n    }\n    const deleteTask=(taskId)=>{\n      if(window.confirm('Do you realy want to delete this task?'))\n      axios.delete('/task/deleteTask/'+taskId).then(()=>{\n        setDataToggler(!dataToggler)\n      })\n    }\n    return(\n        <Grid className=\"todoList\" item xs={12}>\n            <Grid className=\"taskCategory\" item container xs={12}>\n                <Grid className={taskCategory===\"allTask\" || taskCategory===\"isPersonal\"?\"activeTaskList\":\"\"} onClick={()=>fetchTaskList(isPersonal?'isPersonal':'allTask')} item xs={2}>\n                    { project?<h2>All task</h2>:<h2>{isPersonal?'Personal':'All task'} <Switch checked={!isPersonal} onClick={togglePersonalTask} size=\"small\" /></h2>}\n                </Grid>\n                <Grid className={taskCategory===\"todo\"?\"activeTaskList\":\"\"} onClick={()=>fetchTaskList('todo')} item xs={2}>\n                    <h2>ToDo</h2>\n                </Grid>\n                <Grid className={taskCategory===\"inprogress\"?\"activeTaskList\":\"\"} onClick={()=>fetchTaskList('inprogress')} item xs={2}>\n                    <h2>In Progress</h2>\n                </Grid>\n                <Grid className={taskCategory===\"review\"?\"activeTaskList\":\"\"} onClick={()=>fetchTaskList('review')} item xs={2}>\n                    <h2>Review</h2>\n                </Grid>\n                <Grid className={taskCategory===\"completed\"?\"activeTaskList\":\"\"} onClick={()=>fetchTaskList('completed')} item xs={2}>\n                    <h2>Completed</h2>\n                </Grid>\n                <Grid className={taskCategory===\"pending\"?\"activeTaskList\":\"\"} onClick={()=>fetchTaskList('pending')} item xs={2}>\n                    <h2>Pending</h2>\n                </Grid>\n            </Grid>\n            <Grid className=\"taskList\" item xs={12}>\n                { taskList.length?\n                  taskList.map((task)=>(\n                    <ListItem key={task._id}\n                      secondaryAction={\n                        <div>\n                        <Tooltip title=\"Next Transission\" placement=\"top\">\n                          <span>\n                            <IconButton sx={{mr:'-5px'}} edge=\"end\" onClick={()=>nextTransission(task._id)} disabled={task.transission==='completed'} label='changeTransission' aria-label=\"Transission\">\n                              <PublishedWithChangesIcon/>\n                            </IconButton>\n                          </span>\n                        </Tooltip>\n                        <Tooltip title=\"Delete Task\" placement=\"top\">\n                          <span>\n                            <IconButton sx={{mr:1}} edge=\"end\" onClick={()=>deleteTask(task._id)} \n                            disabled={!(task.isPersonal || userInfo && (userInfo.role==='admin' || userInfo.role==='manager'))} \n                            label='changeTransission' aria-label=\"Transission\">\n                              <DeleteOutlineRoundedIcon/>\n                            </IconButton>\n                          </span>\n                        </Tooltip>\n                        </div>\n                      }\n                    >\n                      <Tooltip title=\"Edit Task\" placement=\"top\">\n                        <ListItemButton className=\"itemButton\" onClick={()=>handleOpen(true, task._id)} sx={{pl:1,mr:\"0\"}}>\n                          <ListItemIcon sx={{minWidth:\"40px\"}}>\n                            <EditIcon/>\n                          </ListItemIcon>\n                          <ListItemText> \n                            <Grid container spacing={1}>\n                              <Grid item xs={2}>\n                                <Typography variant=\"inherit\" noWrap>\n                                  {task.title}\n                                </Typography>\n                              </Grid>\n                              <Grid item xs={4}>\n                                {\n                                task.project?\n                                <Typography variant=\"inherit\" noWrap>  \n                                    <b>Project: </b>{task.project.title}\n                                </Typography>\n                                :<Typography variant=\"inherit\">  \n                                  <b>Own task</b>\n                                </Typography>\n                                }\n                              </Grid>\n                              <Grid className=\"taskDate\" item xs={3}><b>Start:</b> {moment(task.startDate).format('MMM-DD-YYYY')} <b>End:</b> {moment(task.endDate).format('MMM-DD-YYYY')}</Grid>\n                              <Grid sx={{textAlign:'right'}} item xs={3}>\n                                {\n                                  moment(task.endDate).isBefore(moment(),'date')?\n                                    <ListItemText className=\"taskState\">\n                                      <Chip\n                                      sx={{textTransform: \"uppercase\"}}\n                                      className=\"pending\"\n                                      label='Pending'\n                                      size=\"small\"/>\n                                    </ListItemText>\n                                    :''\n                                }\n                                <ListItemText className=\"taskState\">\n                                  <Chip\n                                    sx={{textTransform: \"uppercase\"}}\n                                    className={task.transission}\n                                    label={task.transission}\n                                    size=\"small\"/>\n                                </ListItemText>  \n                              </Grid>\n                            </Grid> \n                          </ListItemText>\n                          {/* <ListItemText secondary={\"test\"}/> */}                                                                              \n                        </ListItemButton>\n                      </Tooltip>\n                    </ListItem>\n                  )):<Grid className=\"noFound\" item xs={12}>There is no task for now, please create new task.</Grid>\n                }\n              </Grid>\n              <Modal\n                open={openTaskModal}\n                onClose={handleClose}\n                >\n                <Box>\n                  <AddOrEditTask isEditTask={isEditTaskPage} \n                    editTaskPageInfo={editTaskPageInfo} \n                    reRenderTask={setTaskCategory} \n                    handleClose={handleClose}\n                    project={project}\n                    {...props}/>\n                </Box>\n              </Modal>\n            </Grid>\n    )\n}"],"names":["AddOrEditTask","React","Tasks","props","userInfo","taskCategory","setTaskCategory","dataToggler","setDataToggler","isPersonal","setIsPersonal","taskList","setTaskList","openTaskModal","setOpenTaskModal","project","isEditTaskPage","setIsEditTaskPage","editTaskPageInfo","setEditTaskPageInfo","handleClose","handleOpen","isEdit","editTaskId","fetchTaskList","taskListType","setDataToHome","url","id","axios","then","response","data","className","item","xs","container","onClick","checked","ev","preventDefault","stopPropagation","size","length","map","task","secondaryAction","title","placement","sx","mr","edge","taskId","_id","window","confirm","disabled","transission","label","role","pl","minWidth","spacing","variant","noWrap","moment","startDate","format","endDate","textAlign","isBefore","textTransform","open","onClose","isEditTask","reRenderTask"],"sourceRoot":""}