{"version":3,"file":"static/js/970.2b02f6db.chunk.js","mappings":"uTAOe,SAASA,EAAOC,GAC3B,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,EAAgCC,EAAAA,SAAe,IAA/C,eAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAmBF,EAAAA,SAAeH,EAAMM,UAAjCA,GAAP,eACA,EAAoCH,EAAAA,SAAe,WAAnD,eAAOI,EAAP,KAAmBC,EAAnB,KACA,EAA4BL,EAAAA,UAAe,GAA3C,eAAOM,EAAP,KAAeC,EAAf,KACAP,EAAAA,WAAgB,WACTG,GAA4B,UAAhBA,EAASK,KACpBV,EAAS,SAETO,EAAc,aAEpB,CAACF,IACHH,EAAAA,WAAgB,WACZS,IAAAA,IAAU,sBAAsBL,GAAYM,MAAK,SAACC,GAC9CT,EAAYS,EAAIC,WAEtB,CAACR,EAAWE,IAWd,OACI,UAACO,EAAA,GAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,WACI,SAACF,EAAA,GAAD,CAAMG,UAAU,gBAAgBC,MAAI,EAACC,GAAI,GAAzC,UAA6C,sCAC7C,SAACL,EAAA,GAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,UACI,UAACL,EAAA,GAAD,CAAMG,UAAU,WAAWC,MAAI,EAACH,WAAS,EAACI,GAAI,GAA9C,WACI,SAACL,EAAA,GAAD,CAAMG,UAAU,eAAeC,MAAI,EAACC,GAAI,GAAxC,UACI,SAACC,EAAA,EAAD,CAAaC,GAAG,aAAaC,GAAI,CAAEC,EAAG,EAAGC,SAAU,KAAnD,UACE,UAACC,EAAA,EAAD,CACEC,QAAQ,WACRT,UAAU,eACVU,MAAOtB,EACPuB,SArBH,SAACC,GAClBvB,EAAcuB,EAAMC,OAAOH,QAqBPI,MAAM,cALR,WAOE,SAACC,EAAA,EAAD,CAAUL,MAAM,UAAhB,uBACA,SAACK,EAAA,EAAD,CAAUL,MAAM,QAAhB,oBACA,SAACK,EAAA,EAAD,CAAUL,MAAM,UAAhB,sBACA,SAACK,EAAA,EAAD,CAAUL,MAAM,KAAhB,iBACA,SAACK,EAAA,EAAD,CAAUL,MAAM,WAAhB,8BAIR,SAACb,EAAA,GAAD,CAAMG,UAAU,WAAWC,MAAI,EAACC,GAAI,GAApC,SAEMjB,EAAS+B,KAAI,SAACC,GAAD,OACX,SAACC,EAAA,GAAD,WACI,UAACC,EAAA,EAAD,CAAgBC,SAAUH,EAAKI,QAAQxC,EAAMM,SAASmC,IAAKtB,UAAU,aAAaK,GAAI,CAACkB,GAAG,EAAEC,GAAG,KAA/F,WACE,SAACC,EAAA,EAAD,CAAcC,QAAST,EAAKU,YAC5B,UAACF,EAAA,EAAD,gBAAgB,kCAAhB,IAA+BR,EAAKI,MAApC,QACA,SAACI,EAAA,EAAD,CAAczB,UAAU,WAAxB,UACE,UAACQ,EAAA,EAAD,CACEJ,GAAG,8BACHM,MAAOO,EAAKzB,KACZmB,SAAU,SAACC,GAAD,OAxC1B,SAACgB,EAAOC,GACtB,IAAMC,EAAU,CAACF,OAAQA,EAAQpC,KAAKqC,EAAGhB,OAAOH,OAChDjB,IAAAA,IAAU,wBAAwBqC,GAASpC,MAAK,SAACC,GAC7CJ,GAAWD,GACXD,EAAcD,MAoCgC2C,CAAWd,EAAKe,IAAIpB,IACxCQ,SAAUH,EAAKI,QAAQxC,EAAMM,SAASmC,IAJxC,WAME,SAACP,EAAA,EAAD,CAAUL,MAAM,WAAhB,uBACA,SAACK,EAAA,EAAD,CAAUL,MAAM,KAAhB,iBACA,SAACK,EAAA,EAAD,CAAUL,MAAM,UAAhB,sBACA,SAACK,EAAA,EAAD,CAAUL,MAAM,QAAhB,4BAdKO,EAAKe,oB","sources":["Component/MainApp/People/people.js"],"sourcesContent":["import { FormControl, Grid, ListItem, ListItemButton, ListItemText, MenuItem, Select, Tooltip } from '@mui/material';\nimport axios from 'axios';\nimport * as React from 'react';\nimport { useNavigate } from 'react-router';\nimport './people.css'\nimport '../Common/Tasks/Tasks.css'\n\nexport default function People(props){\n    const navigate = useNavigate();\n    const [userList, setUserList] = React.useState([]);\n    const [userInfo] = React.useState(props.userInfo);\n    const [userFilter, setUserFilter] = React.useState('allUser');\n    const [toggle, setToggle] = React.useState(false);\n    React.useEffect(()=>{\n        if(userInfo && userInfo.role!=='admin')\n            navigate('/home')\n        else{\n            setUserFilter('allUser')\n        }\n    },[userInfo])\n    React.useEffect(() =>{\n        axios.get('/user/getUsersList/'+userFilter).then((res)=>{\n            setUserList(res.data)\n        })\n    },[userFilter,toggle])\n    const selectFilter = (event) => {\n        setUserFilter(event.target.value);\n    };\n    const changeRole =(userId,ev)=>{\n        const newRole = {userId: userId, role:ev.target.value}\n        axios.put('/user/updateUserRole/',newRole).then((res)=>{\n            setToggle(!toggle)\n            setUserFilter(userFilter)\n        })\n    }\n    return(\n        <Grid container spacing={2}>\n            <Grid className=\"mainAppHeader\" item xs={12}><h1>People</h1></Grid>\n            <Grid item xs={6}>\n                <Grid className=\"todoList\" item container xs={12}>\n                    <Grid className=\"userCategory\" item xs={12}>\n                        <FormControl id=\"userFilter\" sx={{ m: 1, minWidth: 120 }}>\n                          <Select\n                            variant=\"outlined\"\n                            className='selectFilter'\n                            value={userFilter}\n                            onChange={selectFilter}\n                            label=\"User filter\"\n                          >\n                            <MenuItem value='allUser'>All user</MenuItem>\n                            <MenuItem value='admin'>Admin</MenuItem>\n                            <MenuItem value='manager'>Manager</MenuItem>\n                            <MenuItem value='QA'>QA</MenuItem>\n                            <MenuItem value='employee'>Employee</MenuItem>\n                          </Select>\n                        </FormControl>\n                    </Grid>\n                    <Grid className=\"taskList\" item xs={12}>\n                        {\n                          userList.map((user)=>(\n                            <ListItem key={user._id}>\n                                <ListItemButton disabled={user.email===props.userInfo.sub} className=\"itemButton\" sx={{pl:1,mr:\"0\"}}>\n                                  <ListItemText primary={user.username}/>\n                                  <ListItemText > <b>Email:</b> {user.email} </ListItemText>\n                                  <ListItemText className=\"userRole\">\n                                    <Select\n                                      id=\"demo-controlled-open-select\"\n                                      value={user.role}\n                                      onChange={(event)=> changeRole(user._id,event)}\n                                      disabled={user.email===props.userInfo.sub}\n                                    >\n                                      <MenuItem value='employee'>Employee</MenuItem>\n                                      <MenuItem value='QA'>QA</MenuItem>\n                                      <MenuItem value='manager'>Manager</MenuItem>\n                                      <MenuItem value='admin'>Admin</MenuItem>\n                                    </Select>\n                                  </ListItemText>                                                                                \n                                </ListItemButton>\n                            </ListItem>\n                          ))\n                        }\n                    </Grid>\n                </Grid>\n            </Grid>\n        </Grid>\n    )\n}"],"names":["People","props","navigate","useNavigate","React","userList","setUserList","userInfo","userFilter","setUserFilter","toggle","setToggle","role","axios","then","res","data","Grid","container","spacing","className","item","xs","FormControl","id","sx","m","minWidth","Select","variant","value","onChange","event","target","label","MenuItem","map","user","ListItem","ListItemButton","disabled","email","sub","pl","mr","ListItemText","primary","username","userId","ev","newRole","changeRole","_id"],"sourceRoot":""}